var app=angular.module("app",[]);app.controller("myCtrl",["$scope",function(n){n.processData=function(a){for(var e=a.split(/\r\n|\n/),t=e[0].split(","),r=[],l=0;l<e.length;l++){var o=e[l].split(",");if(o.length==t.length){for(var i=[],p=0;p<t.length;p++)i.push(o[p]);r.push(i)}}n.data=r}}]),app.directive("filelist",function(){return function(n,a,e){a.bind("change",function(a){n.$apply(function(){n[e.name]=a.target;var t=new FileReader;t.onload=function(){var a=t.result;console.log(a),n.processData(a)},t.readAsText(n[e.name].files[0])})})}});